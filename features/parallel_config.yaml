# Perfect21 å¼ºåˆ¶å¹¶è¡Œæ‰§è¡Œé…ç½®
# ç¡®ä¿æ¯æ¬¡éƒ½è§¦å‘å¤šAgentå¹¶è¡Œå·¥ä½œæµ

# å…¨å±€æ‰§è¡Œè®¾ç½®
execution_settings:
  default_mode: mandatory_parallel  # å¼ºåˆ¶å¹¶è¡Œæ¨¡å¼
  minimum_agents: 3                 # æœ€å°‘åŒæ—¶è°ƒç”¨çš„Agentæ•°é‡
  parallel_enforcement: true        # å¯ç”¨å¹¶è¡Œå¼ºåˆ¶æ‰§è¡Œ
  serial_execution_blocked: true    # é˜»æ­¢ä¸²è¡Œæ‰§è¡Œ

# Agentç»„åˆç­–ç•¥
agent_combinations:
  orchestrator_led:
    primary: "@orchestrator"
    required_parallel: ["@code-reviewer", "@security-auditor", "@test-engineer", "@devops-engineer"]
    min_agents: 4
    description: "orchestratorä¸»å¯¼çš„å…¨é¢è´¨é‡æ£€æŸ¥"

  code_review_focused:
    primary: "@code-reviewer"
    required_parallel: ["@security-auditor", "@test-engineer"]
    min_agents: 3
    description: "ä»£ç å®¡æŸ¥ä¸ºä¸»çš„è´¨é‡æ£€æŸ¥"

  security_focused:
    primary: "@security-auditor"
    required_parallel: ["@test-engineer", "@devops-engineer"]
    min_agents: 3
    description: "å®‰å…¨ä¸ºä¸»çš„ç»¼åˆæ£€æŸ¥"

  testing_focused:
    primary: "@test-engineer"
    required_parallel: ["@code-reviewer", "@devops-engineer"]
    min_agents: 3
    description: "æµ‹è¯•ä¸ºä¸»çš„è´¨é‡éªŒè¯"

  deployment_focused:
    primary: "@devops-engineer"
    required_parallel: ["@security-auditor", "@test-engineer"]
    min_agents: 3
    description: "éƒ¨ç½²ä¸ºä¸»çš„åŸºç¡€è®¾æ–½æ£€æŸ¥"

# åˆ†æ”¯ç­–ç•¥é…ç½®
branch_strategies:
  main:
    agents: ["@orchestrator", "@code-reviewer", "@security-auditor", "@test-engineer", "@devops-engineer"]
    mode: "strict_parallel"
    min_agents: 5
    description: "ä¸»åˆ†æ”¯æœ€ä¸¥æ ¼æ£€æŸ¥"

  feature:
    agents: ["@code-reviewer", "@test-engineer", "@security-auditor"]
    mode: "standard_parallel"
    min_agents: 3
    description: "åŠŸèƒ½åˆ†æ”¯æ ‡å‡†æ£€æŸ¥"

  hotfix:
    agents: ["@test-engineer", "@code-reviewer", "@devops-engineer"]
    mode: "fast_parallel"
    min_agents: 3
    description: "çƒ­ä¿®å¤åˆ†æ”¯å¿«é€Ÿæ£€æŸ¥"

  release:
    agents: ["@deployment-manager", "@test-engineer", "@security-auditor", "@devops-engineer"]
    mode: "release_parallel"
    min_agents: 4
    description: "å‘å¸ƒåˆ†æ”¯éƒ¨ç½²å°±ç»ªæ£€æŸ¥"

# å¼ºåˆ¶å¹¶è¡Œå…³é”®è¯
parallel_keywords:
  enforce:
    - "MANDATORY_PARALLEL"
    - "å¼ºåˆ¶å¹¶è¡Œ"
    - "å¿…é¡»åŒæ—¶è°ƒç”¨"
    - "ç¦æ­¢ä¸²è¡Œ"
    - "MUST execute in parallel"
    - "åŒæ—¶è°ƒç”¨æ‰€æœ‰Agent"

  block_serial:
    - "NO_SERIAL_EXECUTION"
    - "ç¦æ­¢é€ä¸ªè°ƒç”¨"
    - "ä¸å…è®¸ä¸²è¡Œ"
    - "BLOCK_SEQUENTIAL"

# æ‰§è¡ŒéªŒè¯è§„åˆ™
validation_rules:
  parallel_enforcement:
    enabled: true
    min_concurrent_agents: 3
    block_single_agent_calls: true
    require_parallel_keywords: true

  execution_monitoring:
    track_parallel_calls: true
    log_serial_attempts: true
    alert_on_violation: true

# æç¤ºè¯æ¨¡æ¿
prompt_templates:
  mandatory_parallel: |
    ğŸš€ PERFECT21 å¼ºåˆ¶å¹¶è¡Œæ‰§è¡Œæ¨¡å¼

    âš ï¸ é‡è¦æŒ‡ä»¤:
    1. ä½ å¿…é¡»åœ¨å•ä¸ªæ¶ˆæ¯ä¸­åŒæ—¶è°ƒç”¨æ‰€æœ‰æŒ‡å®šçš„Agent
    2. ç»å¯¹ç¦æ­¢ä¸²è¡Œæ‰§è¡Œï¼Œå¿…é¡»ä½¿ç”¨å¹¶è¡ŒTaskè°ƒç”¨
    3. æ¯ä¸ªAgentéƒ½æœ‰ä¸åŒçš„ä¸“ä¸šèŒè´£ï¼Œéœ€è¦åä½œå®Œæˆä»»åŠ¡
    4. è¿™æ˜¯Perfect21çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆ

    å¿…é¡»å¹¶è¡Œè°ƒç”¨çš„Agent: {agents}

    ğŸ’¡ æ‰§è¡Œæ ¼å¼:
    <function_calls>
    {agent_calls}

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš VibePilot V2 - ç½‘ç»œè¿æ¥æŒ‡å—</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 32px;
        }
        .status-card {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        .access-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .method-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        .method-card:hover {
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-5px);
        }
        .method-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .link-button {
            display: inline-block;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 25px;
            margin: 10px 10px 10px 0;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        .link-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border-left: 4px solid #667eea;
        }
        .diagnostic-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        .test-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px 10px 10px 0;
            transition: all 0.3s ease;
        }
        .test-button:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-online { background-color: #4CAF50; }
        .status-offline { background-color: #f44336; }
        .status-testing { background-color: #ff9800; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš VibePilot V2 ç½‘ç»œè¿æ¥æŒ‡å—</h1>

        <div class="status-card">
            <h2>ğŸ“Š æœåŠ¡å™¨çŠ¶æ€</h2>
            <p><span class="status-indicator status-online"></span>VibePilot V2 æ­£åœ¨è¿è¡Œ</p>
            <p><span class="status-indicator status-online"></span>æ‰€æœ‰ç«¯å£å·²å¼€æ”¾</p>
            <p><span class="status-indicator status-online"></span>é˜²ç«å¢™å·²é…ç½®</p>
            <p id="serverTime">ğŸ•’ æœåŠ¡å™¨æ—¶é—´: <span id="currentTime"></span></p>
        </div>

        <div class="access-methods">
            <div class="method-card">
                <div class="method-title">
                    ğŸ¯ æ–¹æ³•1: ç›´æ¥è®¿é—® (æ¨èå…ˆè¯•)
                </div>
                <p>å¦‚æœä½ çš„ç½‘ç»œå…è®¸ï¼Œç›´æ¥è®¿é—®VibePilotï¼š</p>
                <a href="http://146.190.52.84:9999" class="link-button" target="_blank">
                    ğŸŒ VibePilotä¸»ç•Œé¢ (9999ç«¯å£)
                </a>
                <a href="http://146.190.52.84:9999/health" class="link-button" target="_blank">
                    â¤ï¸ å¥åº·æ£€æŸ¥
                </a>
                <a href="http://146.190.52.84" class="link-button" target="_blank">
                    ğŸŒ 80ç«¯å£è®¿é—®
                </a>
            </div>

            <div class="method-card">
                <div class="method-title">
                    ğŸ”’ æ–¹æ³•2: SSHéš§é“ (æœ€ç¨³å®š)
                </div>
                <p>å¦‚æœç›´æ¥è®¿é—®ä¸è¡Œï¼Œä½¿ç”¨SSHéš§é“ï¼š</p>
                <div class="code-block">
ssh -L 9999:localhost:9999 root@146.190.52.84
                </div>
                <p>ç„¶åè®¿é—®:</p>
                <a href="http://localhost:9999" class="link-button">
                    ğŸ  æœ¬åœ°éš§é“è®¿é—®
                </a>
            </div>

            <div class="method-card">
                <div class="method-title">
                    ğŸ“± æ–¹æ³•3: ç§»åŠ¨çƒ­ç‚¹æµ‹è¯•
                </div>
                <p>å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œï¼Œå°è¯•ç”¨æ‰‹æœºçƒ­ç‚¹ï¼š</p>
                <ol style="margin: 10px 0; padding-left: 20px;">
                    <li>å¼€å¯æ‰‹æœºçƒ­ç‚¹</li>
                    <li>ç”µè„‘è¿æ¥æ‰‹æœºçƒ­ç‚¹</li>
                    <li>é‡æ–°è®¿é—® VibePilot</li>
                </ol>
                <p>è¿™èƒ½æ’é™¤æ˜¯å¦ä¸ºç½‘ç»œè¿è¥å•†é™åˆ¶</p>
            </div>

            <div class="method-card">
                <div class="method-title">
                    ğŸ› ï¸ æ–¹æ³•4: å®¢æˆ·ç«¯è¯Šæ–­
                </div>
                <p>ä¸‹è½½è¯Šæ–­è„šæœ¬åˆ°ä½ çš„Macè¿è¡Œï¼š</p>
                <a href="http://146.190.52.84:8002/client_test.py" class="link-button" download>
                    ğŸ“¥ ä¸‹è½½è¯Šæ–­è„šæœ¬
                </a>
                <div class="code-block">
# ä¸‹è½½åè¿è¡Œï¼š
python3 client_test.py
                </div>
            </div>
        </div>

        <div class="diagnostic-section">
            <h2>ğŸ” å®æ—¶è¿æ¥æµ‹è¯•</h2>
            <p>æµ‹è¯•ä»ä½ çš„æµè§ˆå™¨åˆ°VibePilotçš„è¿æ¥ï¼š</p>

            <button class="test-button" onclick="testConnection()">ğŸ§ª æµ‹è¯•è¿æ¥</button>
            <button class="test-button" onclick="testHealth()">â¤ï¸ æµ‹è¯•å¥åº·çŠ¶æ€</button>
            <button class="test-button" onclick="openVibePilot()">ğŸš€ æ‰“å¼€VibePilot</button>

            <div id="testResults" style="margin-top: 20px;"></div>
        </div>

        <div class="diagnostic-section">
            <h2>ğŸ”§ å¸¸è§é—®é¢˜è§£å†³</h2>
            <details style="margin: 10px 0;">
                <summary style="cursor: pointer; font-weight: bold;">â“ æµè§ˆå™¨æ˜¾ç¤º"æ— æ³•è¿æ¥"</summary>
                <div style="margin: 10px 0; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                    <p>åŸå› å¯èƒ½æ˜¯ï¼š</p>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>é˜²ç«å¢™é˜»æ­¢äº†è¿æ¥</li>
                        <li>ç½‘ç»œè¿è¥å•†é™åˆ¶</li>
                        <li>ä¼ä¸šç½‘ç»œç­–ç•¥</li>
                    </ul>
                    <p>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨SSHéš§é“æˆ–åˆ‡æ¢ç½‘ç»œ</p>
                </div>
            </details>

            <details style="margin: 10px 0;">
                <summary style="cursor: pointer; font-weight: bold;">â“ SSHéš§é“è¿æ¥ä¸ä¸Š</summary>
                <div style="margin: 10px 0; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                    <p>æ£€æŸ¥SSHè¿æ¥ï¼š</p>
                    <div class="code-block">ssh root@146.190.52.84</div>
                    <p>å¦‚æœSSHæ­£å¸¸ï¼Œå†å»ºç«‹éš§é“</p>
                </div>
            </details>

            <details style="margin: 10px 0;">
                <summary style="cursor: pointer; font-weight: bold;">â“ é¡µé¢åŠ è½½å¾ˆæ…¢</summary>
                <div style="margin: 10px 0; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                    <p>è¿™é€šå¸¸æ˜¯ç½‘ç»œå»¶è¿Ÿé—®é¢˜ï¼ŒVibePilotåŠŸèƒ½ä¸å—å½±å“ã€‚å¯ä»¥ï¼š</p>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>ä½¿ç”¨SSHéš§é“å‡å°‘å»¶è¿Ÿ</li>
                        <li>åˆ‡æ¢åˆ°æ›´å¿«çš„ç½‘ç»œ</li>
                        <li>ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½</li>
                    </ul>
                </div>
            </details>
        </div>
    </div>

    <script>
        // æ›´æ–°æ—¶é—´
        function updateTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleString('zh-CN');
        }
        updateTime();
        setInterval(updateTime, 1000);

        // æµ‹è¯•è¿æ¥
        async function testConnection() {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = '<p>ğŸ”„ æ­£åœ¨æµ‹è¯•è¿æ¥...</p>';

            const tests = [
                { name: '9999ç«¯å£', url: 'http://146.190.52.84:9999' },
                { name: 'å¥åº·æ£€æŸ¥', url: 'http://146.190.52.84:9999/health' },
                { name: '80ç«¯å£', url: 'http://146.190.52.84' }
            ];

            let results = '<h3>ğŸ“Š è¿æ¥æµ‹è¯•ç»“æœ:</h3>';

            for (const test of tests) {
                try {
                    const startTime = performance.now();
                    const response = await fetch(test.url, {
                        method: 'HEAD',
                        mode: 'no-cors',
                        cache: 'no-cache'
                    });
                    const endTime = performance.now();
                    const duration = Math.round(endTime - startTime);

                    results += `<p>âœ… ${test.name}: è¿æ¥æˆåŠŸ (${duration}ms)</p>`;
                } catch (error) {
                    results += `<p>âŒ ${test.name}: è¿æ¥å¤±è´¥ - ${error.message}</p>`;
                }
            }

            resultsDiv.innerHTML = results;
        }

        // æµ‹è¯•å¥åº·çŠ¶æ€
        async function testHealth() {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = '<p>ğŸ”„ æ­£åœ¨æ£€æŸ¥å¥åº·çŠ¶æ€...</p>';

            try {
                const response = await fetch('http://146.190.52.84:9999/health');
                const data = await response.json();
                resultsDiv.innerHTML = `
                    <h3>â¤ï¸ å¥åº·æ£€æŸ¥ç»“æœ:</h3>
                    <p>âœ… çŠ¶æ€: ${data.status}</p>
                    <p>ğŸ•’ æ—¶é—´: ${data.timestamp}</p>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <h3>â¤ï¸ å¥åº·æ£€æŸ¥ç»“æœ:</h3>
                    <p>âŒ æ— æ³•è·å–å¥åº·çŠ¶æ€: ${error.message}</p>
                    <p>ğŸ’¡ å»ºè®®ä½¿ç”¨SSHéš§é“è®¿é—®</p>
                `;
            }
        }

        // æ‰“å¼€VibePilot
        function openVibePilot() {
            // å°è¯•å¤šä¸ªURL
            const urls = [
                'http://146.190.52.84:9999',
                'http://146.190.52.84',
                'http://localhost:9999'
            ];

            urls.forEach((url, index) => {
                setTimeout(() => {
                    window.open(url, `_vibepilot_${index}`);
                }, index * 1000);
            });

            document.getElementById('testResults').innerHTML = `
                <h3>ğŸš€ æ­£åœ¨å°è¯•æ‰“å¼€VibePilot:</h3>
                <p>å·²å°è¯•æ‰“å¼€å¤šä¸ªè®¿é—®åœ°å€ï¼Œè¯·æ£€æŸ¥æ–°æ‰“å¼€çš„æ ‡ç­¾é¡µ</p>
                <p>å¦‚æœéƒ½æ— æ³•è®¿é—®ï¼Œè¯·ä½¿ç”¨SSHéš§é“æ–¹æ³•</p>
            `;
        }
    </script>
</body>
</html>
# Perfect21 Environment Configuration Example
# Copy this file to .env and update with your actual values

# ==============================================
# APPLICATION SETTINGS
# ==============================================
ENV=production
VERSION=latest
DEBUG=false

# API Configuration
API_PORT=8000
API_WORKERS=2
API_MAX_WORKERS=4
LOG_LEVEL=INFO

# ==============================================
# SECURITY SETTINGS
# ==============================================
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-here-change-me

# Grafana Configuration
GRAFANA_USER=admin
GRAFANA_PASSWORD=change-me-to-a-strong-password
GRAFANA_SECRET_KEY=change-me-to-a-random-secret
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_PORT=3000

# ==============================================
# DATABASE SETTINGS
# ==============================================
# PostgreSQL Configuration
POSTGRES_DB=perfect21
POSTGRES_USER=perfect21_user
POSTGRES_PASSWORD=change-me-to-a-strong-database-password

# Database URL (auto-generated from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ==============================================
# CACHE SETTINGS
# ==============================================
# Redis Configuration
REDIS_PASSWORD=change-me-to-a-redis-password
REDIS_URL=redis://redis:6379/0

# ==============================================
# MONITORING SETTINGS
# ==============================================
# Prometheus
PROMETHEUS_PORT=9090

# Loki
LOKI_PORT=3100

# ==============================================
# NETWORKING SETTINGS
# ==============================================
# Port Configuration
HTTP_PORT=80
HTTPS_PORT=443

# Domain Configuration
DOMAIN=perfect21.example.com
API_DOMAIN=api.perfect21.example.com

# ==============================================
# STORAGE SETTINGS
# ==============================================
# Data Paths (for volume mounts)
DATA_PATH=./data
BACKUP_PATH=./backups

# ==============================================
# BUILD SETTINGS
# ==============================================
# Docker Build Arguments
BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
VCS_REF=$(git rev-parse --short HEAD)

# ==============================================
# DEPLOYMENT SETTINGS
# ==============================================
# Kubernetes Configuration
KUBE_NAMESPACE=perfect21
KUBE_CONTEXT=production

# Container Registry
REGISTRY=ghcr.io
IMAGE_NAME=perfect21/perfect21

# ==============================================
# BACKUP SETTINGS
# ==============================================
# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# S3 Backup Configuration (optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-east-1
S3_BACKUP_BUCKET=perfect21-backups

# ==============================================
# NOTIFICATION SETTINGS
# ==============================================
# Slack Configuration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=notifications@example.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_EMAIL=noreply@perfect21.example.com

# ==============================================
# PERFORMANCE SETTINGS
# ==============================================
# Resource Limits
MAX_CONNECTIONS=1000
WORKER_CONNECTIONS=4096
KEEPALIVE_TIMEOUT=65

# Cache Settings
CACHE_TTL=3600
REDIS_MAX_MEMORY=256mb

# ==============================================
# SECURITY SETTINGS
# ==============================================
# CORS Configuration
ALLOWED_ORIGINS=https://perfect21.example.com,https://api.perfect21.example.com
CORS_CREDENTIALS=true

# Security Headers
SECURE_COOKIES=true
SESSION_SECURE=true
CONTENT_TYPE_NOSNIFF=true
FRAME_DENY=true
XSS_PROTECTION=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
DEFAULT_MAX_REQUESTS=1000
DEFAULT_WINDOW_SECONDS=3600

# Authentication
ACCESS_TOKEN_EXPIRE_HOURS=1
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ==============================================
# DEVELOPMENT SETTINGS (for local development)
# ==============================================
# Override for development
# ENV=development
# DEBUG=true
# LOG_LEVEL=DEBUG
# API_WORKERS=1

# ==============================================
# FEATURE FLAGS
# ==============================================
# Perfect21 Features
GIT_WORKFLOW_ENABLED=true
AUTO_HOOKS=true
BRANCH_PROTECTION=true
REQUIRE_PR_REVIEW=true

# Monitoring Features
PERFORMANCE_TRACKING=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Task Execution
MAX_PARALLEL_TASKS=5
DEFAULT_TIMEOUT=300
MAX_TIMEOUT=1800
RESULT_CACHE_TTL=3600
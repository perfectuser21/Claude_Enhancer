# ADR-001: 采用Core-Framework-Services-Features四层架构

## 状态
已采纳

## 日期
2025-09-23

## 背景
Claude Enhancer需要一个清晰、可扩展的架构来支持个人IDE的长期发展。当前的文件组织较为混乱，需要重新设计。

## 决策
采用四层架构：
- **L0 Core（内核层）**：最小化的核心引擎
- **L1 Framework（框架层）**：主要工作框架
- **L2 Services（服务层）**：共享服务组件
- **L3 Features（特性层）**：功能实现

## 理由
1. **清晰分层**：每层职责明确，依赖关系简单
2. **灵活扩展**：Features层可以无限增长
3. **稳定核心**：Core和Framework保持稳定
4. **易于维护**：模块化设计便于管理

## 影响
### 正面
- 代码组织更清晰
- 新功能添加更容易
- 系统更稳定可靠

### 负面
- 需要重组现有文件
- 初期需要适应新结构

## 替代方案
1. **扁平结构**：所有文件放在一层
   - 拒绝原因：难以管理和扩展
2. **两层结构**：只分core和features
   - 拒绝原因：中间层功能无处安放

## 实施
1. 创建新目录结构
2. 迁移现有文件
3. 更新引用路径
4. 测试功能完整性

## 后续
- 监控Features增长情况
- 定期评估层级合理性
- 必要时调整分类标准
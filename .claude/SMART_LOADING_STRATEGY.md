# ğŸ§  Claude Enhanceræ™ºèƒ½æ–‡æ¡£åŠ è½½ç­–ç•¥

## ğŸ¯ è®¾è®¡ç›®æ ‡

1. **é¿å…ä¸Šä¸‹æ–‡æ±¡æŸ“** - ä»…åŠ è½½ä»»åŠ¡ç›¸å…³æ–‡æ¡£
2. **æœ€å°åŒ–Tokenä½¿ç”¨** - æŒ‰éœ€åŠ è½½ï¼Œç²¾å‡†åŒ¹é…
3. **ä¿æŒç³»ç»Ÿæ•ˆç‡** - å¿«é€Ÿè§¦å‘ï¼Œæ™ºèƒ½ç¼“å­˜
4. **ç¡®ä¿ä¿¡æ¯å®Œæ•´** - å…³é”®ä¿¡æ¯ä¸é—æ¼

## ğŸ“Š æ–‡æ¡£åˆ†æä¸åˆ†ç±»

### ğŸ—ï¸ ç¬¬ä¸€å±‚ï¼šæ ¸å¿ƒæ¶æ„æ–‡æ¡£ï¼ˆç¨€æœ‰åŠ è½½ï¼‰
**è§¦å‘æ¡ä»¶**ï¼šç³»ç»Ÿé‡æ„ã€æ¶æ„è¿ç§»ã€æ–°ç³»ç»Ÿè®¾è®¡
```yaml
ARCHITECTURE/:
  - v2.0-FOUNDATION.md          # å››å±‚æ¶æ„å®šä¹‰
  - LAYER-DEFINITION.md         # L0-L3å±‚è¯¦ç»†è¯´æ˜
  - GROWTH-STRATEGY.md          # Featureåˆ†çº§è§„åˆ™
  - NAMING-CONVENTIONS.md       # å‘½åè§„èŒƒ
  - decisions/*.md              # æ¶æ„å†³ç­–è®°å½•

è§¦å‘å…³é”®è¯:
  - "é‡æ„"ã€"æ¶æ„"ã€"æ–°åŠŸèƒ½åˆ†å±‚"
  - "æ·»åŠ æ–°æ¨¡å—"ã€"ç³»ç»Ÿè®¾è®¡"
  - "è¿ç§»"ã€"ä¼˜åŒ–ç»“æ„"
```

### âš™ï¸ ç¬¬äºŒå±‚ï¼šå·¥ä½œæµæ‰§è¡Œæ–‡æ¡£ï¼ˆå¸¸ç”¨åŠ è½½ï¼‰
**è§¦å‘æ¡ä»¶**ï¼šæ‰€æœ‰å¼€å‘ä»»åŠ¡çš„Phaseæ‰§è¡Œ
```yaml
æ ¸å¿ƒæ‰§è¡Œ:
  - WORKFLOW.md                 # 8-Phaseå·¥ä½œæµ
  - AGENT_STRATEGY.md           # 4-6-8ç­–ç•¥
  - PHASE_AGENT_STRATEGY.md     # Phaseä¸Agentæ˜ å°„

è´¨é‡æ§åˆ¶:
  - SAFETY_RULES.md             # å®‰å…¨è§„åˆ™
  - SELF_CHECK_MECHANISM.md     # è‡ªæ£€æœºåˆ¶
  - OUTPUT_CONTROL_STRATEGY.md  # è¾“å‡ºæ§åˆ¶

è§¦å‘å…³é”®è¯:
  - ä»»ä½•ç¼–ç¨‹ä»»åŠ¡å¼€å§‹
  - "Phase"ã€"å·¥ä½œæµ"
  - "Agent"ã€"å¹¶è¡Œæ‰§è¡Œ"
```

### ğŸ”§ ç¬¬ä¸‰å±‚ï¼šä¸“ä¸šAgentæ–‡æ¡£ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰
**è§¦å‘æ¡ä»¶**ï¼šç‰¹å®šæŠ€æœ¯æ ˆæˆ–ä¸“ä¸šé¢†åŸŸä»»åŠ¡
```yaml
56ä¸ªä¸“ä¸šAgentæŒ‰æŠ€æœ¯æ ˆåˆ†ç±»:
  åç«¯: backend-architect.md, backend-engineer.md, database-specialist.md
  å‰ç«¯: frontend-engineer.md, react-pro.md, vue-specialist.md
  æµ‹è¯•: test-engineer.md, e2e-test-specialist.md, performance-tester.md
  å®‰å…¨: security-auditor.md
  è¿ç»´: devops-engineer.md, kubernetes-expert.md

è§¦å‘è§„åˆ™:
  - ä»»åŠ¡åŒ…å«ç‰¹å®šæŠ€æœ¯å…³é”®è¯æ—¶åŠ è½½å¯¹åº”Agentæ–‡æ¡£
  - Phase 3æ‰§è¡Œæ—¶ï¼Œæ ¹æ®é€‰æ‹©çš„AgentåŠ è½½è¯¦ç»†è¯´æ˜
```

### ğŸ“‹ ç¬¬å››å±‚ï¼šè¾…åŠ©å‚è€ƒæ–‡æ¡£ï¼ˆå¯é€‰åŠ è½½ï¼‰
**è§¦å‘æ¡ä»¶**ï¼šç‰¹æ®Šæƒ…å†µæˆ–æ•…éšœæ’æŸ¥
```yaml
æ•…éšœæ’æŸ¥:
  - ISSUES_AND_SOLUTIONS.md     # é—®é¢˜è§£å†³
  - CONSISTENCY_ISSUES.md       # ä¸€è‡´æ€§é—®é¢˜

ç”¨æˆ·æŒ‡å—:
  - QUICK_START.md              # å¿«é€Ÿå¼€å§‹
  - HOW_TO_USE_CLAUDE_ENHANCER.md

ç³»ç»Ÿç»´æŠ¤:
  - CLEANUP_STRATEGY.md         # æ¸…ç†ç­–ç•¥
  - PERFORMANCE_OPTIMIZATION_SUMMARY.md
```

## ğŸ® æ™ºèƒ½è§¦å‘æœºåˆ¶

### Phase-Based Loadingï¼ˆé˜¶æ®µè§¦å‘ï¼‰
```python
def get_documents_for_phase(phase, task_type, complexity):
    base_docs = ["WORKFLOW.md", "AGENT_STRATEGY.md"]

    if phase == 0:  # åˆ†æ”¯åˆ›å»º
        return base_docs

    if phase == 1:  # éœ€æ±‚åˆ†æ
        return base_docs + ["PHASE_AGENT_STRATEGY.md"]

    if phase == 2:  # è®¾è®¡è§„åˆ’
        if "æ–°åŠŸèƒ½" in task_type or "é‡æ„" in task_type:
            return base_docs + ["ARCHITECTURE/GROWTH-STRATEGY.md",
                               "ARCHITECTURE/LAYER-DEFINITION.md"]
        return base_docs

    if phase == 3:  # å®ç°å¼€å‘
        agent_docs = get_agent_docs_by_complexity(complexity)
        return base_docs + agent_docs + ["SAFETY_RULES.md"]

    # ... å…¶ä»–Phase
```

### Keyword-Based Loadingï¼ˆå…³é”®è¯è§¦å‘ï¼‰
```yaml
è§¦å‘æ˜ å°„:
  æ¶æ„ç›¸å…³:
    keywords: ["é‡æ„", "æ¶æ„", "æ–°æ¨¡å—", "åˆ†å±‚", "è¿ç§»"]
    docs: ["ARCHITECTURE/v2.0-FOUNDATION.md", "ARCHITECTURE/LAYER-DEFINITION.md"]

  å®‰å…¨ç›¸å…³:
    keywords: ["å®‰å…¨", "æƒé™", "è®¤è¯", "åŠ å¯†", "æ¼æ´"]
    docs: ["SAFETY_RULES.md", "agents/security-auditor.md"]

  æ€§èƒ½ç›¸å…³:
    keywords: ["æ€§èƒ½", "ä¼˜åŒ–", "ç¼“å­˜", "æ…¢æŸ¥è¯¢", "å†…å­˜"]
    docs: ["PERFORMANCE_OPTIMIZATION_SUMMARY.md", "agents/performance-engineer.md"]

  æµ‹è¯•ç›¸å…³:
    keywords: ["æµ‹è¯•", "TDD", "å•å…ƒæµ‹è¯•", "é›†æˆæµ‹è¯•"]
    docs: ["agents/test-engineer.md", "agents/e2e-test-specialist.md"]
```

### Technology Stack Loadingï¼ˆæŠ€æœ¯æ ˆè§¦å‘ï¼‰
```yaml
å‰ç«¯æŠ€æœ¯æ ˆ:
  React: ["agents/react-pro.md", "agents/frontend-engineer.md"]
  Vue: ["agents/vue-specialist.md", "agents/frontend-engineer.md"]
  Angular: ["agents/angular-expert.md", "agents/frontend-engineer.md"]

åç«¯æŠ€æœ¯æ ˆ:
  Python: ["agents/python-pro.md", "agents/backend-engineer.md"]
  Go: ["agents/golang-pro.md", "agents/backend-engineer.md"]
  Java: ["agents/java-enterprise.md", "agents/backend-engineer.md"]

æ•°æ®åº“:
  SQL: ["agents/database-specialist.md"]
  NoSQL: ["agents/database-specialist.md", "agents/data-engineer.md"]
```

## ğŸš€ åŠ è½½ä¼˜å…ˆçº§ç³»ç»Ÿ

### P0 - å¿…é¡»åŠ è½½ï¼ˆæ¯æ¬¡ä»»åŠ¡ï¼‰
```yaml
æ ¸å¿ƒæ–‡æ¡£:
  - WORKFLOW.md               # å·¥ä½œæµæ¡†æ¶
  - AGENT_STRATEGY.md         # Agentç­–ç•¥
  - SAFETY_RULES.md          # å®‰å…¨è§„åˆ™

åŠ è½½æ—¶æœº: ä»»åŠ¡å¼€å§‹æ—¶ç«‹å³åŠ è½½
Cacheç­–ç•¥: æ°¸ä¹…ç¼“å­˜ï¼Œé™¤éæ–‡æ¡£æ›´æ–°
```

### P1 - é«˜æ¦‚ç‡åŠ è½½ï¼ˆå¤§éƒ¨åˆ†ä»»åŠ¡ï¼‰
```yaml
å¸¸ç”¨æ–‡æ¡£:
  - PHASE_AGENT_STRATEGY.md   # Phaseæ˜ å°„
  - SELF_CHECK_MECHANISM.md   # è‡ªæ£€æœºåˆ¶
  - OUTPUT_CONTROL_STRATEGY.md # è¾“å‡ºæ§åˆ¶

åŠ è½½æ—¶æœº: Phase 1å¼€å§‹æ—¶åŠ è½½
Cacheç­–ç•¥: ä¼šè¯æœŸé—´ç¼“å­˜
```

### P2 - æ¡ä»¶åŠ è½½ï¼ˆç‰¹å®šåœºæ™¯ï¼‰
```yaml
æ¶æ„æ–‡æ¡£:
  - ARCHITECTURE/GROWTH-STRATEGY.md
  - ARCHITECTURE/LAYER-DEFINITION.md

ä¸“ä¸šAgent:
  - agents/{specific-agent}.md

åŠ è½½æ—¶æœº: å…³é”®è¯åŒ¹é…æˆ–Phase 3æ—¶
Cacheç­–ç•¥: æŒ‰éœ€æ¸…ç†
```

### P3 - ç½•è§åŠ è½½ï¼ˆæ•…éšœæ’æŸ¥ï¼‰
```yaml
é—®é¢˜æ’æŸ¥:
  - ISSUES_AND_SOLUTIONS.md
  - CONSISTENCY_ISSUES.md

ç³»ç»Ÿç»´æŠ¤:
  - CLEANUP_STRATEGY.md

åŠ è½½æ—¶æœº: æ˜ç¡®è¯·æ±‚æ—¶
Cacheç­–ç•¥: å³ç”¨å³æ¸…
```

## ğŸ’¡ å®ç°ç­–ç•¥

### æ™ºèƒ½é¢„æµ‹åŠ è½½
```python
class SmartDocumentLoader:
    def __init__(self):
        self.task_patterns = {
            "æ–°åŠŸèƒ½å¼€å‘": ["ARCHITECTURE/GROWTH-STRATEGY.md", "å¤æ‚åº¦è¯„ä¼°"],
            "Bugä¿®å¤": ["ç®€å•Agentç»„åˆ", "æµ‹è¯•ä¼˜å…ˆ"],
            "æ€§èƒ½ä¼˜åŒ–": ["performanceç›¸å…³æ–‡æ¡£", "ç›‘æ§Agent"],
            "å®‰å…¨å®¡è®¡": ["securityç›¸å…³æ–‡æ¡£", "å®¡è®¡Agent"]
        }

    def predict_needed_docs(self, user_request):
        # åˆ†æç”¨æˆ·è¯·æ±‚ï¼Œé¢„æµ‹éœ€è¦çš„æ–‡æ¡£
        task_type = self.classify_task(user_request)
        complexity = self.assess_complexity(user_request)
        tech_stack = self.detect_technology(user_request)

        return self.build_loading_plan(task_type, complexity, tech_stack)
```

### åŠ¨æ€ç¼“å­˜ç­–ç•¥
```yaml
ç¼“å­˜å±‚çº§:
  L1 - å†…å­˜ç¼“å­˜: æ ¸å¿ƒæ–‡æ¡£ï¼ˆWORKFLOW.mdç­‰ï¼‰
  L2 - ä¼šè¯ç¼“å­˜: å½“å‰ä»»åŠ¡ç›¸å…³æ–‡æ¡£
  L3 - ä¸´æ—¶ç¼“å­˜: ä¸€æ¬¡æ€§æŸ¥è¯¢æ–‡æ¡£

æ¸…ç†ç­–ç•¥:
  - L1: æ°¸ä¸æ¸…ç†ï¼ˆé™¤éæ–‡æ¡£æ›´æ–°ï¼‰
  - L2: Phaseå®Œæˆåè¯„ä¼°æ˜¯å¦ä¿ç•™
  - L3: ç«‹å³ä½¿ç”¨åæ¸…ç†
```

### ä¸Šä¸‹æ–‡ç®¡ç†
```python
class ContextManager:
    def __init__(self, max_tokens=50000):
        self.max_tokens = max_tokens
        self.current_docs = []
        self.priority_docs = []

    def add_document(self, doc_path, priority):
        if self.would_exceed_limit(doc_path):
            self.remove_lowest_priority_docs()

        self.load_document(doc_path, priority)

    def optimize_context(self):
        # ç§»é™¤è¿‡æ—¶æˆ–ä¸ç›¸å…³çš„æ–‡æ¡£
        # ä¿ç•™é«˜ä¼˜å…ˆçº§å’Œå½“å‰Phaseç›¸å…³æ–‡æ¡£
        pass
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### åŠ è½½æ•ˆç‡ç›®æ ‡
```yaml
å“åº”æ—¶é—´:
  - P0æ–‡æ¡£: <100msï¼ˆå†…å­˜ç¼“å­˜ï¼‰
  - P1æ–‡æ¡£: <200msï¼ˆä¼šè¯ç¼“å­˜ï¼‰
  - P2æ–‡æ¡£: <500msï¼ˆç£ç›˜è¯»å–ï¼‰
  - P3æ–‡æ¡£: <1sï¼ˆå®Œæ•´åŠ è½½ï¼‰

Tokenä½¿ç”¨:
  - åŸºç¡€ä»»åŠ¡: <5,000 tokens
  - æ ‡å‡†ä»»åŠ¡: <15,000 tokens
  - å¤æ‚ä»»åŠ¡: <30,000 tokens
  - æ¶æ„ä»»åŠ¡: <50,000 tokens

å‡†ç¡®ç‡:
  - å¿…è¦æ–‡æ¡£å‘½ä¸­ç‡: >95%
  - ä¸å¿…è¦æ–‡æ¡£è¿‡æ»¤ç‡: >90%
  - ç”¨æˆ·æ»¡æ„åº¦: >95%
```

### ç›‘æ§æŒ‡æ ‡
```yaml
å®æ—¶ç›‘æ§:
  - æ–‡æ¡£åŠ è½½é¢‘ç‡ç»Ÿè®¡
  - Tokenä½¿ç”¨é‡è¶‹åŠ¿
  - ä»»åŠ¡å®Œæˆç‡
  - é”™è¯¯ç‡å’Œé‡è¯•ç‡

ä¼˜åŒ–åé¦ˆ:
  - å“ªäº›æ–‡æ¡£ç»„åˆæ•ˆæœæœ€å¥½
  - å“ªäº›è§¦å‘æ¡ä»¶éœ€è¦è°ƒæ•´
  - å“ªäº›æ–‡æ¡£å¯ä»¥åˆå¹¶æˆ–æ‹†åˆ†
```

## ğŸ”„ æŒç»­ä¼˜åŒ–

### è‡ªå­¦ä¹ æœºåˆ¶
1. **ä½¿ç”¨æ¨¡å¼åˆ†æ** - è·Ÿè¸ªå“ªäº›æ–‡æ¡£ç»„åˆæœ€æœ‰æ•ˆ
2. **é”™è¯¯æ¨¡å¼è¯†åˆ«** - åˆ†æåŠ è½½ä¸è¶³æˆ–è¿‡åº¦çš„æƒ…å†µ
3. **è§¦å‘æ¡ä»¶ä¼˜åŒ–** - æ ¹æ®å®é™…ä½¿ç”¨è°ƒæ•´å…³é”®è¯å’Œè§„åˆ™
4. **ç¼“å­˜ç­–ç•¥è°ƒæ•´** - åŸºäºè®¿é—®é¢‘ç‡ä¼˜åŒ–ç¼“å­˜å†³ç­–

### ç‰ˆæœ¬è¿­ä»£
1. **å­£åº¦å›é¡¾** - åˆ†æåŠ è½½ç­–ç•¥æ•ˆæœ
2. **è§„åˆ™æ›´æ–°** - æ ¹æ®æ–°æ–‡æ¡£å’Œæ–°åŠŸèƒ½è°ƒæ•´
3. **æ€§èƒ½ä¼˜åŒ–** - æŒç»­æ”¹è¿›åŠ è½½é€Ÿåº¦å’Œå‡†ç¡®æ€§
4. **ç”¨æˆ·åé¦ˆ** - æ”¶é›†ä½¿ç”¨ä½“éªŒï¼Œæ”¹è¿›ç­–ç•¥

---

## ğŸ¯ æ€»ç»“

è¿™ä¸ªæ™ºèƒ½åŠ è½½ç­–ç•¥é€šè¿‡ï¼š
- **åˆ†å±‚åˆ†ç±»** - æŒ‰é‡è¦æ€§å’Œä½¿ç”¨é¢‘ç‡åˆ†å±‚
- **æ™ºèƒ½è§¦å‘** - åŸºäºPhaseã€å…³é”®è¯ã€æŠ€æœ¯æ ˆçš„å¤šç»´è§¦å‘
- **ä¼˜å…ˆçº§ç³»ç»Ÿ** - P0-P3çš„åŠ è½½ä¼˜å…ˆçº§
- **åŠ¨æ€ä¼˜åŒ–** - ç¼“å­˜ç­–ç•¥å’ŒæŒç»­å­¦ä¹ 

å®ç°äº†ï¼š
- âœ… é¿å…ä¸Šä¸‹æ–‡æ±¡æŸ“
- âœ… æœ€å°åŒ–Tokenä½¿ç”¨
- âœ… ä¿æŒé«˜æ•ˆæ‰§è¡Œ
- âœ… ç¡®ä¿ä¿¡æ¯å®Œæ•´

è®©Claude Codeèƒ½å¤Ÿæ™ºèƒ½åœ°"çŸ¥é“è¯¥çŸ¥é“çš„ï¼Œå¿½ç•¥è¯¥å¿½ç•¥çš„"ï¼Œæä¾›ç²¾å‡†é«˜æ•ˆçš„ä»»åŠ¡æ‰§è¡Œã€‚
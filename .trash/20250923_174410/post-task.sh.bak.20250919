#!/bin/bash
# Claude Code Post-task Hook - ä»»åŠ¡æ‰§è¡Œåæ£€æŸ¥

echo "ğŸ“Š Claude Enhancerä»»åŠ¡åæ£€æŸ¥..."

# ä½¿ç”¨Rule Guardianæ£€æŸ¥æ‰§è¡Œç»“æœ
python3 -c "
import sys
import json
sys.path.insert(0, '/home/xx/dev/Claude Enhancer')

try:
    from features.guardian.rule_guardian import get_rule_guardian

    guardian = get_rule_guardian()
    status = guardian.get_current_status()

    if status['health_score'] < 80:
        print(f'âš ï¸ å¥åº·åˆ†æ•°åä½: {status[\"health_score\"]}/100')
        print(f'  è¿è§„æ¬¡æ•°: {status[\"violations\"]}')
        print(f'  å…³é”®è¿è§„: {status[\"critical_violations\"]}')
        print('å»ºè®®æ£€æŸ¥å¹¶ä¿®æ­£è¿è§„é¡¹')
    else:
        print(f'âœ… å¥åº·åˆ†æ•°è‰¯å¥½: {status[\"health_score\"]}/100')

except Exception as e:
    print(f'Guardianæ£€æŸ¥è·³è¿‡: {e}')
"

exit 0
# Analogy Library
# Maps technical features to life examples for user-friendly checklists
# Version: 1.0
# Purpose: Help non-technical users understand what they're getting

version: "1.0"
updated_at: "2025-10-21"

categories:
  authentication:
    - feature: "email/password login"
      analogy: "就像登录QQ一样，输入邮箱和密码"
      keywords: ["login", "auth", "email", "password", "signin"]
      technical_specs:
        - "BCrypt password hashing (cost 12)"
        - "JWT token generation (HS256)"
        - "Secure session management"

    - feature: "rate limiting"
      analogy: "就像银行ATM，密码错3次会锁定15分钟，防止瞎猜"
      keywords: ["rate limit", "throttle", "brute force", "防爆破"]
      technical_specs:
        - "Redis-based rate limiting"
        - "3 attempts per 15 minutes"
        - "IP-based tracking"

    - feature: "session timeout"
      analogy: "就像银行网站，30分钟不操作自动退出，保护安全"
      keywords: ["timeout", "idle", "auto logout", "session expire"]
      technical_specs:
        - "Sliding window timeout (30 min)"
        - "Auto token invalidation"
        - "Grace period handling"

    - feature: "remember me"
      analogy: "就像淘宝的'记住我'，下次打开不用重新登录"
      keywords: ["remember", "stay logged in", "persistent"]
      technical_specs:
        - "Long-lived refresh tokens (30 days)"
        - "Secure cookie storage"
        - "Token rotation on use"

    - feature: "password encryption"
      analogy: "就像把密码放进保险箱，只有您知道密码，我们只存加密后的"
      keywords: ["encrypt", "hash", "secure storage", "bcrypt"]
      technical_specs:
        - "BCrypt hashing with salt"
        - "Cost factor 12 (secure + fast)"
        - "No plaintext storage"

    - feature: "two-factor authentication"
      analogy: "就像取钱需要银行卡+密码双重验证，更安全"
      keywords: ["2FA", "MFA", "multi-factor", "OTP"]
      technical_specs:
        - "TOTP-based verification"
        - "SMS/Email backup codes"
        - "Recovery mechanism"

  data_management:
    - feature: "database"
      analogy: "就像Excel表格，整理存储所有信息"
      keywords: ["database", "storage", "persist", "save"]
      technical_specs:
        - "PostgreSQL/MySQL database"
        - "Proper indexing for performance"
        - "Transaction support (ACID)"

    - feature: "data backup"
      analogy: "就像手机照片自动备份到云端，防止丢失"
      keywords: ["backup", "restore", "recovery"]
      technical_specs:
        - "Automated daily backups"
        - "Point-in-time recovery"
        - "Backup retention (30 days)"

    - feature: "data validation"
      analogy: "就像填表单时，邮箱格式不对会提示您"
      keywords: ["validation", "check", "verify input"]
      technical_specs:
        - "Schema validation (Joi/Yup)"
        - "Type checking"
        - "Business rule enforcement"

    - feature: "data migration"
      analogy: "就像搬家，把数据从旧系统搬到新系统"
      keywords: ["migration", "upgrade", "schema change"]
      technical_specs:
        - "Versioned migrations"
        - "Rollback support"
        - "Zero-downtime migration"

  api_features:
    - feature: "API endpoint"
      analogy: "就像餐厅菜单上的一道菜，前端点菜，后端上菜"
      keywords: ["API", "endpoint", "route", "interface"]
      technical_specs:
        - "RESTful API design"
        - "Versioned endpoints"
        - "OpenAPI documentation"

    - feature: "rate limiting (API)"
      analogy: "就像游乐园限制每人每小时玩几次，防止拥挤"
      keywords: ["API limit", "quota", "throttle"]
      technical_specs:
        - "Token bucket algorithm"
        - "Per-user rate limits"
        - "429 status code handling"

    - feature: "pagination"
      analogy: "就像书的页码，一次只显示10条，点下一页看更多"
      keywords: ["pagination", "page", "limit offset"]
      technical_specs:
        - "Cursor-based pagination"
        - "Limit/offset support"
        - "Total count metadata"

  performance:
    - feature: "caching"
      analogy: "就像把常用的东西放在桌面，不用每次都去柜子里翻"
      keywords: ["cache", "speed", "optimize", "fast"]
      technical_specs:
        - "Redis caching layer"
        - "TTL-based invalidation"
        - "Cache-aside pattern"

    - feature: "lazy loading"
      analogy: "就像滚动到哪里才加载图片，不是一次全加载"
      keywords: ["lazy", "on-demand", "deferred"]
      technical_specs:
        - "Intersection Observer API"
        - "Progressive image loading"
        - "Code splitting"

    - feature: "compression"
      analogy: "就像压缩文件，传输更快，省流量"
      keywords: ["compress", "gzip", "minify"]
      technical_specs:
        - "Gzip/Brotli compression"
        - "Asset minification"
        - "Image optimization"

  security:
    - feature: "input sanitization"
      analogy: "就像门卫检查包裹，防止有害内容进来"
      keywords: ["sanitize", "clean", "XSS", "injection"]
      technical_specs:
        - "XSS prevention (DOMPurify)"
        - "SQL injection protection (parameterized queries)"
        - "CSRF token validation"

    - feature: "HTTPS"
      analogy: "就像快递员穿制服，确保是正规的不是骗子"
      keywords: ["https", "SSL", "TLS", "secure"]
      technical_specs:
        - "TLS 1.3 encryption"
        - "Valid SSL certificate"
        - "HSTS header"

    - feature: "access control"
      analogy: "就像办公楼门禁，只有有权限的人能进"
      keywords: ["permission", "role", "authorization", "access"]
      technical_specs:
        - "Role-based access control (RBAC)"
        - "Permission matrix"
        - "Resource-level authorization"

  user_experience:
    - feature: "loading indicator"
      analogy: "就像电梯里的数字，告诉您正在运行中"
      keywords: ["loading", "spinner", "progress"]
      technical_specs:
        - "Loading states management"
        - "Skeleton screens"
        - "Progress indicators"

    - feature: "error messages"
      analogy: "就像GPS说'掉头'，明确告诉您哪里错了"
      keywords: ["error", "message", "notification"]
      technical_specs:
        - "User-friendly error messages"
        - "Error codes + descriptions"
        - "Actionable suggestions"

    - feature: "responsive design"
      analogy: "就像变形金刚，手机电脑都能正常显示"
      keywords: ["responsive", "mobile", "adaptive"]
      technical_specs:
        - "Mobile-first design"
        - "Breakpoints (sm/md/lg/xl)"
        - "Touch-friendly interactions"

  notifications:
    - feature: "email notification"
      analogy: "就像快递通知短信，重要事情发邮件提醒您"
      keywords: ["email", "notify", "alert", "send"]
      technical_specs:
        - "SMTP/SendGrid integration"
        - "Email templates"
        - "Delivery tracking"

    - feature: "push notification"
      analogy: "就像微信消息通知，手机弹窗提醒"
      keywords: ["push", "notification", "alert"]
      technical_specs:
        - "Web Push API"
        - "Service worker setup"
        - "Notification permissions"

  file_handling:
    - feature: "file upload"
      analogy: "就像发微信图片，选择文件上传"
      keywords: ["upload", "file", "image", "attach"]
      technical_specs:
        - "Multipart form-data handling"
        - "File type validation"
        - "Size limits (e.g., 10MB)"

    - feature: "image preview"
      analogy: "就像发朋友圈前预览照片，确认满意再发"
      keywords: ["preview", "thumbnail", "image"]
      technical_specs:
        - "Client-side image preview"
        - "Canvas/FileReader API"
        - "Thumbnail generation"

  search:
    - feature: "search functionality"
      analogy: "就像淘宝搜索框，输入关键词找商品"
      keywords: ["search", "find", "query", "filter"]
      technical_specs:
        - "Full-text search (Elasticsearch/PostgreSQL)"
        - "Fuzzy matching"
        - "Result ranking"

    - feature: "autocomplete"
      analogy: "就像百度搜索框自动提示，输入几个字就给建议"
      keywords: ["autocomplete", "suggest", "typeahead"]
      technical_specs:
        - "Debounced input (300ms)"
        - "Prefix matching"
        - "Result limiting (top 10)"

# Fallback for unknown features
fallback:
  analogy: "这是一个新功能，AI会用简单的话告诉您是什么"
  technical_specs:
    - "详细技术规格将在实现时定义"
